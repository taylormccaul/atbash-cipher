<!DOCTYPE html>
<html>
    <head>
        <title>Atbash Cipher</title>
        <meta charset="utf-8">
        <style>
        </style>
    </head>
    <body>
        <h1 id="cipher-text"></h1>
        <input type="text" name="plain-text" id="plain-text">
        <button type="submit" name="encrypt-submit" id="encrypt-submit">Encrypt</button>
        
        <button type="submit" name="decrypt-submit" id="decrypt-submit">Decrypt</button>
        <script>
            let plainTextInput = document.getElementById("plain-text").value;
            let encBtn = document.getElementById("encrypt-submit");

            let decBtn = document.getElementById("decrypt-submit");

            let cipherPreview = document.getElementById("cipher-text");

            let plainTextArr = ("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYS").split("");
            let cipherTextArr = ("zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA").split("");

            let encodeArr = [""];

            encBtn.addEventListener("click", encode);
            decBtn.addEventListener("click", decode);

            function code(inputArr, outputArr) {
                plainTextInput = document.getElementById("plain-text").value;
                encodeArr = [""];

                for (let i = 0; i < plainTextInput.length; i++) {
                    if (inputArr.includes(plainTextInput.charAt(i))) {
                        for (let j = 0; j < inputArr.length; j++) {
                            if (inputArr[j] === plainTextInput[i]) {
                                console.log(outputArr[j]);
                                encodeArr.push(outputArr[j]);
                                console.log(encodeArr);
                            }
                        }
                    }
                }

                for (let i = 1; i < encodeArr.length; i++) {
                    if (i % 6 === 0) {
                        encodeArr.splice(i, 0, " ");
                    }
                }
            }

            function preview() {
                return cipherPreview.innerHTML = `${plainTextInput} is equal to ${encodeArr.join("").toLowerCase()}`;
            }

            function encode() {
                code(plainTextArr, cipherTextArr);
                preview();
            }

            function decode() {
                code(cipherTextArr, plainTextArr);

                for (let i = 0; i < encodeArr.length; i++) {
                    if (encodeArr[i] == " ") {
                        encodeArr.splice(i, 1);
                    }
                }

                preview();
            }
        </script>
    </body>
</html>
